<HTML>
<CENTER><A HREF = "http://lammps.sandia.gov">LAMMPS WWW Site</A> - <A HREF = "Manual.html">LAMMPS Documentation</A> - <A HREF = "Section_commands.html#comm">LAMMPS Commands</A> 
</CENTER>






<HR>

<H3>fix speedControl command 
</H3>
<P><B>Syntax:</B>
</P>
<PRE>fix ID group-ID speedControl vx vy vz keyword value ... 
</PRE>
<UL><LI>ID, group-ID are documented in <A HREF = "fix.html">fix</A> command 

<LI>speedControl = style name of this fix command 

<LI>vx,vy,vz = set-velocity component values (velocity units) 

<PRE>  any of vx,vy,vz can be a variable (see below) 
</PRE>
<LI>zero or more keyword/value pairs may be appended to args 

<LI>keyword = <I>region</I> or <I>gain</I> 

<PRE>  <I>region</I> value = region-ID
    region-ID = ID of region atoms must be in to have added force
  <I>gain</I> value = gain
    gain = proportional gain of the proportional controller 
</PRE>

</UL>
<P><B>Examples:</B>
</P>
<PRE>fix kick flow speedControl 1.0 0.0 0.0
fix kick flow speedControl 1.0 0.0 v_oscillate region force_reg
fix kick flow speedControl 0.0 NULL v_push gain v_gain 
</PRE>
<P><B>Description:</B>
</P>
<P>Add vx,vy,vz to the corresponding component of the set-velocity for 
each atom in the group. This command can be used to constrain the 
velocity of the atoms in a simulation, e.g. at an outlet with a 
well-defined massflow (screw conveyor).
</P>
<P>This fix applies a force to each atom which is proportional to the 
controller gain times the difference between the atom's velocity and 
the set-velocity.
</P>
<P>Any of the 3 quantities defining the set-velocity can be specified
as an equal-style or atom-style <A HREF = "variable.html">variable</A>, namely <I>vx</I>,
<I>vy</I>, <I>vz</I>.  If the value is a variable, it should be specified as
v_name, where name is the variable name.  In this case, the variable
will be evaluated each timestep, and its value(s) used to determine
the set-velocity component. Any of the x,y,z values can be specified 
as NULL which means do not include that dimension in the application 
of the velocity controller.
</P>
<P>Equal-style variables can specify formulas with various mathematical
functions, and include <A HREF = "thermo_style.html">thermo_style</A> command
keywords for the simulation box parameters and timestep and elapsed
time.  Thus it is easy to specify a time-dependent force field.
</P>
<P>Atom-style variables can specify the same formulas as equal-style
variables but can also include per-atom values, such as atom
coordinates.  Thus it is easy to specify a spatially-dependent force
field with optional time-dependence as well.
</P>
<P>If the <I>region</I> keyword is used, the atom must also be in the
specified geometric <A HREF = "region.html">region</A> in order to have its velocity 
controlled.
</P>
<HR>

<P><B>Restart, fix_modify, output, run start/stop, minimize info:</B>
</P>
<P>No information about this fix is written to <A HREF = "restart.html">binary restart
files</A>.
</P>
<P>No parameter of this fix can be used with the <I>start/stop</I> keywords of
the <A HREF = "run.html">run</A> command.
</P>
<P><B>Restrictions:</B> none
</P>
<P><B>Related commands:</B>
</P>
<P><A HREF = "fix_addforce.html">fix addforce</A>, <A HREF = "fix_drag.html">fix drag</A>
</P>
<P><B>Default:</B>
</P>
<P>The option defaults are gain = 0.1
</P>
</HTML>
